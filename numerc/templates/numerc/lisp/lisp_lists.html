{% extends '../layout.html' %} {% load static %} {% block description %}
<meta name="description" content="Lisp lists and other compound data." />
{% endblock %} {% block title %}
<title>Compound Data</title>
{% endblock %} {% block content %}
<h1>Compound Data</h1>

<section id="intro">
	<p>
		In this article, we present an over of compound data in Racket,
		alongside some interesting operations.
	</p>
</section>

<section id="list_operations">
	<h2>Operations on Lists</h2>
	<p>Racket has the following primitive operations for lists:</p>
	<table class="alg">
		<thead>
			<th>Primitive</th>
			<th>Description</th>
		</thead>
		<tbody>
			<tr>
				<td><var>null</var></td>
				<td>The empty list</td>
			</tr>
			<tr>
				<td><var>cons</var></td>
				<td>Construct a list</td>
			</tr>
			<tr>
				<td><var>car</var></td>
				<td>Access the head of a list</td>
			</tr>
			<tr>
				<td><var>cdr</var></td>
				<td>Access the tail of a list</td>
			</tr>
			<tr>
				<td><var>null?</var></td>
				<td>Check of the empty list</td>
			</tr>
			<tr>
				<td><var>list</var></td>
				<td>syntactic sugar for building long lists</td>
			</tr>
		</tbody>
	</table>
	<p>Let's explore each of these primitive operations.</p>
	<section id="car">
		<h3>The car Operator</h3>
		<p>
			Here's a recursive function for summing all the numbers in a list:
		</p>
		<pre class="language-scheme"><code>
			(define (sum terms)
				(if (null? terms) 0
							(+ (car terms) (sum (cdr terms)))))
		</code></pre>
		<p>Here's another function that merges two lists:</p>
		<pre class="language-scheme"><code>
			#lang racket

			(define (merge list1 list2)
				(if (null? list1) list2
							(cons (car list1) (merge (cdr list1) list2))))

			(define list-A (list 1 2 3 4))
			(define list-B (list 5 6 7 8))
			(define list-C (merge list-A list-B))
			(println list-C)
		</code></pre>
		<pre class="language-bash"><code>
			'(1 2 3 4 5 6 7 8)
		</code></pre>
		<p>Here's another example, a map function:</p>
		<pre class="language-scheme"><code>
			(provide Map)
			(define (Map f terms)
				(if (null? terms)
						null
						(cons (f (car terms))
									(Map f (cdr terms)))))
		</code></pre>
		<p>Testing:</p>
		<pre class="language-scheme"><code>
			#lang racket

			(require "map.rkt")
			(require "cube.rkt")
			
			(define myList (list 1 2 3 4 5 6))
			
			(define myListCubed (Map cube myList))
			
			(println myListCubed)			
		</code></pre>
		<pre class="language-bash"><code>
			'(1 2 3 4 5 6)
			'(1 8 27 64 125 216)
		</code></pre>
	</section>
</section>

<section id="revisiting_syntax">
	<h2>A Closer Look at Racket Syntax</h2>
	<p>
		Compared to other languages, Racket has remarkably simple syntax. Every
		Racket term falls into one of the following categories:
	</p>
	<ol>
		<li>
			An <b>atom</b> (e.g., <var>#t</var>, <var>#f</var>, <var>17</var>,
			<var>"hi"</var>, <var>null</var>, and so on).
		</li>
		<li>
			A <b>special form</b> (e.g., <var>define</var>, <var>lambda</var>,
			<var>if</var>, essentially keywords). We'll see later that we can
			define our own through <i>macros</i>.
		</li>
		<li>
			Or a <b>sequence</b> of terms in parentheses:
			<var>(t1, t2, t3, &hellip;)</var>.
		</li>
	</ol>
	<p>
		Racket manages to keep its syntax extremely simple because of its use
		of parentheses. To illustrate, suppose we wanted to compute the
		following:
	</p>
	<figure>$$ y = a \div b + c $$</figure>
	<p>In most other languages, we would write:</p>
	<pre class="language-pseudo"><code>
		y = a / b + c
	</code></pre>
	<p>
		To correctly evaluate this expression, the language designer must come
		up with a operator precedence rules, mirroring the familiar PEMDAS from
		our days of youth. The expression <var>a / b + c</var> is then
		evaluated according to those rules. Thus, when the compiler encounters
		the expression, it must look to the precedence rules:
		<q
			>Oh, this is a division symbol. Do I evaluate this before addition?
			Let me check. No.</q
		>
	</p>
	<p>
		In Racket, however, no such rules are needed, because the syntax
		directly dictates the order of operations. Writing:
	</p>
	<pre class="language-scheme"><code>
		(define y (/ a (+ b c)))
	</code></pre>
	<p>the expression directly provides the instructions:</p>
	<ol>
		<li>Compute: <var>b + c</var></li>
		<li>Divide the result of step 1 by <var>a</var>.</li>
		<li>Bind the result of step 2 to <var>y</var>.</li>
	</ol>
</section>

<section id="dynamic_typing">
	<h2>Dynamic Typing</h2>
	<p>
		Racket is a dynamically typed language. This means that Racket will
		execute code like <var>(n * x)</var>, even if one of those variables is
		undefined. This can be frustrating. On the other hand, dynamic typing
		does provide for much more flexible data structures and code without
		going through the hurdles of convincing a type checker that our logic
		is correct.
	</p>
</section>

<section id="car_exercises">
	<h2>Exercises: CAR</h2>
	<p>
		The simplest form of arbitrarily-sized data is a
		<b>list</b> &mdash; a collection of values. Before we do so, we should
		be familiar with three operations in Lisp: <var>car</var>,
		<var>cdr</var>, and <var>cons</var>. Consider the exercises below:
	</p>

	<ol class="ex grid">
		<li class="grid-item">
			Is
			<var>'this'</var> an atom?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, <var>'this'</var> is a string starting with the character
					<var>'t'</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>*abc~</var> an atom?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, <var>*abc~</var> is an atom consisting of special
					characters.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is this a list:
			<var>((atom particle) or)</var>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, this is a list with two elements: a list,
					<var>(atom particle)</var> and an atom, <var>or</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>((x y) z)</var> an S-expression?
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes, all lists S-expressions.</p>
			</details>
		</li>

		<li class="grid-item">
			Is <var>()</var> a list?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes; it contains zero S-expressions enclosed in parentheses. This
					is a special list called the
					<var>null</var> list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>car</var> of <var>(a b c)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>a</var> &mdash; it is the first atom of the list
					<var>(a b c)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>car</var> of <var>()</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No answer. <var>car</var> does not operate on the
					<var>null</var> list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is <var>1329</var> an atom?
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes, <var>1329</var> is a string of digits.</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>(atom)</var> a list?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, because <var>(atom)</var> is an atom enclosed by
					parentheses.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is <var>xyz</var> an S-expression?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes. <var>xyz</var> is an tom, and every atom is an S-expression.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>(hey how are you)</var> a list?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, it is a collection of S-expressions enclosed by parentheses.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is <var>()</var> an atom?
			<details class="answer">
				<summary>Solution</summary>
				<p>No. <var>()</var> is the empty list.</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>car</var> of <var>((a b c) x y z)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(a b c)</var> &mdash; it is the first S-expression in
					<var>((a b c) x y z)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is <var>'u'</var> an atom?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, <var>'u'</var> is a string of length 1, a <i>letter</i>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is this a list:
			<var>(atom particle) or</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No, there is a list,
					<var>(atom particle)</var>, but it is followed by an atom
					<var>or</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>(x y z)</var> an <var>S-expression</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes. <var>(x y z)</var> is a list, and every list is an
					s-expression.
				</p>
			</details>
		</li>

		<li class="grid-item">
			How many S-expressions are in the list
			<var>(hey how are you)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					There are 4: <var>hey</var>, <var>how</var>, <var>are</var>, and
					<var>you</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Is
			<var>(() () ())</var> a list?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, it is a collection of S-expressions enclosed by parentheses.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>car</var> of <var>hello</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>No answer. <var>car</var> does not operate on atoms.</p>
			</details>
		</li>
	</ol>

	<p>
		The exercises above yield the rule for
		<var>car</var>: The primitive <var>car</var> is defined only for
		non-empty lists.
	</p>

	<ol class="ex grid">
		<li class="grid-item">
			What is the
			<var>car</var> of:
			<pre class="language-pseudo"><code>
					(((ketchup)) (mayo) (mustard))	
				</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>((ketchup))</var> &mdash; the list of the list containing
					<var>ketchup</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cdr ((x) t r))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(t r)</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>cdr</var> of:
			<pre class="language-pseudo"><code>
				((a b c) x y z)
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(x y z)</var> &mdash; because <var>(x y z)</var> is the list
					<var>((a b c) x y z)</var> without
					<var>(car ((a b c) x y z))</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>cdr</var> of <var>(ketchup)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>()</var> &mdash; because <var>()</var> is the list
					<var>(ketchup)</var> without <var>(car (ketchup))</var>. I.e.,
					the <var>null</var> list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cdr mayo)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>No answer. <var>cdr</var> does not operate on atoms.</p>
			</details>
		</li>

		<li class="grid-item">
			What is the
			<var>cdr</var> of <var>(a b c)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(b c)</var> &mdash; because <var>(b c)</var> is the list
					<var>(a b c)</var> without <var>(car (a b c))</var>. We can think
					of <var>cdr</var> as &#8220;the rest of the list.&#8221;
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:

			<pre class="language-pseudo"><code>
				(car (((ketchup)) (mayo) (mustard)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>((ketchup))</var> &mdash; this is simply wrapping
					<var>car</var> in parentheses.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(car (car (((ketchup)) (mayo) (mustard))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(ketchup)</var> &mdash; we are asking for the first
					S-expression &mdash; <var>(ketchup)</var> &mdash; of the list
					&mdash; <var>((ketchup))</var> &mdash; of the list
					<var>((ketchup) (mayo) (mustard))</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cdr ())</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No answer. <var>cdr</var> does not operate on the
					<var>null</var> list.
				</p>
			</details>
		</li>
	</ol>

	<p>
		<span class="topic">The <var>cdr</var> Operator.</span>
		The above exercises evidence another rule: The primitive
		<var>cdr</var> is defined only for non-empty lists. The
		<var>cdr</var> of any non-empty list is always another list. Now
		consider the following exercises:
	</p>

	<ol class="ex grid">
		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(car (cdr ((b) (x y) (c))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					First, evaluate
					<var>(cdr ((b) (x y) (c)))</var> ${\implies}$
					<var>((x y) (c))</var>.
				</p>
				<p>
					Next, evaluate
					<var>(car ((x y) (c)))</var> ${\implies}$ <var>(x y)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cdr (car (a (b (c)) d)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(car (a (b (c)) d))</var> ${\implies}$ <var>a</var>.</p>
				<p>
					<var>(cdr a)</var> ${\implies}$ no answer; <var>cdr</var> does
					not operate on atoms.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What does
			<var>cdr</var> take as an argument?
			<details class="answer">
				<summary>Solution</summary>
				<p><var>cdr</var> takes as an argument a non-empty list.</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cons (banana and) (peanut butter and jelly))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The <var>cons</var> operator adds any S-expression to the front
					of a list.
				</p>
				<p>
					&#8756;
					<span class="monoText"
						>(cons (banana and) (peanut butter and jelly))</span
					>
					${\implies}$
					<span class="monoText"
						>((banana and) (peanut butter and jelly))</span
					>
				</p>
			</details>
		</li>

		<li class="grid-item">
			What does
			<var>cons</var> take as its arguments?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>cons</var> takes as its arguments (first) an S-expression
					and (second) a list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cons a ())</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(cons a ())</var> ${\implies}$ <var>(a)</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cons a b)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>No answer. The second argument must be a list.</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
			(cdr (cdr ((b) (x y) ((c)))))
		</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(cdr ((b) (x y) ((c))))</var>
					${\implies}$ <var>((x y) ((c)))</var>.
				</p>
				<p>
					<var>(cdr ((x y) ((c))))</var> ${\implies}$ <var>(((c)))</var>.
				</p>
				<p>
					&#8756;
					<var>(cdr (cdr ((b) (x y) ((c)))))</var>
					\implies <var>(((c)))</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What does
			<var>car</var> take as an argument?
			<details class="answer">
				<summary>Solution</summary>
				<p><var>car</var> takes as an argument a non-empty list.</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cons peanut (butter and jelly))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					This is read &#8220;<var>cons</var> the atom
					<var>peanut</var> onto the list
					<var>(butter and jelly)</var>.&#8221; The
					<var>cons</var> operator adds any atom to the front of a list.
				</p>
				<p>
					&#8756;
					<var>(cons peanut (butter and jelly))</var>
					${\implies}$
					<var>(peanut butter and jelly)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cons ((help) this) (is very ((hard) to learn)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<span class="monoText"
						>(((help) this) is very ((hard) to learn))</span
					>
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cons (a b (c)) ())</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(cons (a b (c)) ())</var> adds the list
					<var>(a b (c))</var> to the empty list <var>()</var>.
				</p>
				<p>
					&#8756;
					<var>(cons (a b (c)) ())</var> ${\implies}$
					<var>((a b (c)))</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(cons ((a b c)) b)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No answer. The second argument to a
					<var>cons</var> operation must be a list.
				</p>
			</details>
		</li>
	</ol>

	<p>
		<span class="topic">The <var>cons</var> Operator.</span>
		From the above, we have the following rule: The primitive
		<var>cons</var> takes two arguments: The first must be an
		<var>S-expression</var>, the second must be a list. The result is a
		list.
	</p>

	<ol class="ex grid">
		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cons a (car ((b) c d)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(car ((b) c d))</var> ${\implies}$ <var>(b)</var>.</p>
				<p><var>(cons a (b))</var> ${\implies}$ <var>(a b)</var>.</p>
				<p>
					&#8756;
					<var>(cons a (car ((b) c d)))</var>
					${\implies}$ <var>(a b)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			Suppose the list ${\ell}$ is
			<var>()</var>. Is it true that the list ${\ell}$ is the
			<var>null</var> list?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, it is true. This question can be written in Lisp as:
					<var>(null? ${\ell}$)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(null? (a b c))</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. The list <var>(a b c)</var> contains three
					elements, <var>a</var>, <var>b</var>, and <var>c</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:
			<pre class="language-pseudo"><code>
				(cons a (cdr ((b) c d)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(cdr ((b) c d))</var> ${\implies}$ <var>(c d)</var>.</p>
				<p><var>(cons a (c d))</var> ${\implies}$ <var>(a c d)</var>.</p>
				<p>
					&#8756;
					<var>(cons a (cdr ((b) c d)))</var>
					${\implies}$ <var>(a c d)</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			What value:

			<pre class="language-pseudo"><code>
				(null? '())
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>. The statement <var>'()</var> is a notation for
					the <var>null list</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(null? hello)</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p>No answer. You cannot ask <var>null?</var> for an atom.</p>
			</details>
		</li>
	</ol>

	<p>
		<span class="topic">The <var>null?</var> Operator.</span>
		From the above, we have the following rule: The primitive
		<var>null?</var> is defined only for lists.
	</p>

	<ol class="ex grid">
		<li class="grid-item">
			True or false:
			<var>John</var> is an atom.
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>. <var>John</var> is a string of characters.</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<pre class="language-pseudo"><code>
				(atom? (John is present))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>(John is present)</var> is a non-empty
					list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:

			<pre class="language-pseudo"><code>
				(atom? (car (John is present)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(car (John is present))</var>
					${\implies}$ <var>John</var>.
				</p>
				<p><var>(atom? John)</var> ${\implies}$ <var>true</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<pre class="language-pseudo"><code>
				(atom? (cdr (John)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(cdr (John))</var> ${\implies}$ <var>()</var>.</p>
				<p>
					<var>(atom? ())</var> ${\implies}$ <var>false</var>.
					<var>()</var> is the <var>null list</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<pre class="language-pseudo"><code>
				(atom? (car (cdr (Hello (I) am Fortran))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(cdr (Hello (I) am Fortran))</var>
					${\implies}$ <var>((I) am Fortran)</var>.
				</p>
				<p>
					<var>(car ((I) am Fortran))</var> ${\implies}$ <var>(I)</var>.
				</p>
				<p><var>(atom? (I))</var> ${\implies}$ <var>false</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			What is
			<var>(eq? John John)</var>?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(eq? John John)</var> is just another way of asking, Are
					<var>John</var> and <var>John</var> the same
					<i>non-numeric</i> atom?
				</p>
				<p><var>(eq? John John)</var> ${\implies}$ <var>true</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			How many arguments does
			<var>eq?</var> take and what are they?
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>eq?</var> takes two arguments, both of which
					<span class="underlineText">must</span> be
					<i>non-numeric</i> atoms.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(eq? 6 7)</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No answer. Both arguments taken by
					<var>eq?</var> must be <i>non-numeric</i> atoms.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(atom? John)</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>. <var>John</var> is a string of characters.</p>
				<p>
					<var>(atom? ${\alpha}$)</var> is just another way to ask: Is
					${\alpha}$ an atom?
				</p>
			</details>
		</li>

		<li class="grid-item">
			How many arguments does
			<var>atom?</var> take and what are they?
			<details class="answer">
				<summary>Solution</summary>
				<p><var>atom?</var> takes one argument, any S-expression.</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:

			<pre class="language-pseudo"><code>
				(atom? (cdr (John is present)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(cdr (John is present))</var>
					${\implies}$ <var>(is present)</var>.
				</p>
				<p>
					<var>(atom (is present))</var> ${\implies}$ <var>false</var>.
					<var>(is present)</var> is a non-empty list.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:

			<pre class="language-pseudo"><code>
				(atom? (car (cdr (Hello I am Fortran))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(cdr (Hello I am fortran))</var>
					${\implies}$ <var>(I am Fortran)</var>.
				</p>
				<p><var>(car (I am Fortran))</var> ${\implies}$ <var>I</var>.</p>
				<p><var>(atom? I)</var> ${\implies}$ <var>true</var>.</p>
			</details>
		</li>

		<li class="grid-item">
			True or false: ${\alpha}$ is the atom
			<var>John</var>. ${\beta}$ is the atom <var>John</var>. ${\alpha}$
			and ${\beta}$ are the same atom.
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>. Both ${\alpha}$ and ${\beta}$ are the atom
					<var>John</var>.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(eq? butter margarine)</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>butter</var> and <var>margarine</var> are
					different strings of characters, so they are different atoms.
				</p>
			</details>
		</li>

		<li class="grid-item">
			True or false:
			<var>(eq? () mango)</var>.
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No answer. Both arguments taken by
					<var>eq?</var> must be non-numeric <i>atoms</i>.
				</p>
			</details>
		</li>
	</ol>

	<p>
		<span class="topic">The <var>eq?</var> Operator.</span>
		From the exercises above, we have the following rule: The primitive
		<var>eq?</var> takes two arguments, each of which must be
		<span class="underlineText">non-numeric atoms</span>.
	</p>

	<div class="compare">
		<div>
			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(eq? (car (Mary had a little lamb chop)) Mary)
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(car (Mary had a little lamb chop))</var>
					${\implies}$ <var>Mary</var>
				</p>
				<p><var>(eq? Mary Mary)</var> ${\implies}$ <var>true</var>.</p>
			</details>

			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(eq? (car (beans beans we need jelly beans))
							(car (cdr (beans beans we need jelly beans))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<ol>
					<li>
						<span class="monoText"
							>(cdr (beans beans we need jelly beans))</span
						>
						${\implies}$
						<var>(beans we need jelly beans)</var>
					</li>
					<li>
						<var>(car (beans we need jelly beans))</var>
						${\implies}$ <var>beans</var>
					</li>
					<li>
						<span class="monoText"
							>(car (beans beans we need jelly beans))</span
						>
						${\implies}$ <var>beans</var>
					</li>
					<li>
						<var>(eq? beans beans)</var> ${\implies}$
						<var>true</var>
					</li>
				</ol>
			</details>
		</div>

		<div>
			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(eq? (cdr (sour milk)) milk)
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(cdr (sour milk))</var> ${\implies}$ <var>(milk)</var>.</p>
				<p>
					<var>(eq? (milk) milk)</var> ${\implies}$ no answer; both
					arguments must be non-numeric atoms.
				</p>
			</details>
		</div>
	</div>
</section>

<section id="repeat_with_lists">
	<h2>Recur with Lists</h2>
	<div class="compare">
		<div>
			<p>True or false: .</p>
			<pre class="language-pseudo"><code>
				(lat? (Jack Sprat could eat no chicken fat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
				<p>
					<var>(lat? ${\ell}$)</var> is just another way of asking: Is each
					S-expression in the list ${\ell}$ an atom? If yes,
					<var>true</var>, if no, <var>false</var>.
				</p>
			</details>

			<p>True or false: .</p>
			<pre class="language-pseudo"><code>
				(lat? (Jack (ate no) chicken fat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>. There is a list in the list.</p>
			</details>

			<p>
				True or false: a
				<var>lat</var> is a list of atoms.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>True. Every <var>lat</var> is a list of atoms.</p>
			</details>

			<p>
				What is the first question asked by
				<var>(lat? ${\ell}$)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The first question is
					<var>(null? ${\ell}$)</var>. I.e., is the list ${\ell}$
					<var>null</var>?
				</p>
				<p>From the function definition in the previous exercise:</p>
				<ol>
					<li><var>(cond ...)</var> asks questions.</li>
					<li><var>(lambda ...)</var> creates a function.</li>
					<li><var>(define ...)</var> names the function.</li>
				</ol>
			</details>

			<p>
				What is the question after
				<var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(atom? (car ${\ell}$))</var>.</p>
			</details>

			<p>
				What is the meaning of
				<var>(lat (cdr ${\ell}$))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(lat? (cdr ${\ell}$))</var> determines if the rest of
					${\ell}$ is composed of only atoms, by referring to the function
					with a new argument &mdash; the list ${\ell}$ without
					<var>(car ${\ell}$)</var>.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? ${\ell}$)</var>.</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The next question is
					<var>(atom? (car ${\ell}$))</var>.
				</p>
			</details>

			<p>
				What is the meaning of
				<var>(lat? (cdr ${\ell}$))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(lat? (cdr ${\ell}$))</var> determines if the rest of
					${\ell}$ &mdash; <var>(eggs)</var> &mdash; is composed of only
					atoms.
				</p>
			</details>

			<p>What is the meaning of the line:</p>
			<ul class="syntax">
				<li>(atom? (car ${\ell}$) (lat? (cdr ${\ell}$)))</li>
			</ul>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<span class="monoText"
							>(atom? (car ${\ell}$) (lat? (cdr ${\ell}$)))</span
						>
						asks if <var>(car ${\ell}$)</var> is an atom.
					</li>
					<li>
						If it is, the value of
						<span class="monoText"
							>(atom? (car ${\ell}$) (lat? (cdr ${\ell}$)))</span
						>
						is <var>(lat (cdr ${\ell}$))</var>.
					</li>
					<li>If it is not, then we ask the next question.</li>
					<p>
						Here, <var>(car ${\ell}$)</var> is <var>eggs</var>, an atom.
						So, the value of
						<span class="monoText"
							>(atom? (car ${\ell}$) (lat? (cdr ${\ell}$)))</span
						>
						is <var>(lat? (cdr ${\ell}$))</var>.
					</p>
				</ul>
			</details>

			<p>
				Now that ${\ell}$ is
				<var>()</var> what is the meaning of
				<var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<var>(null? ${\ell}$)</var> asks if the argument ${\ell}$ is
						the <var>null list</var>.
					</li>
					<li>
						If it is, the value of
						<var>(null? ${\ell}$)</var> is
						<var>true.</var>
					</li>
					<li>If not, we ask the next question.</li>
				</ul>
				<p>
					Here, ${\ell}$ is the <var>null</var> list, so the application
					evaluates to <var>true</var>.
				</p>
			</details>

			<p>
				Now suppose ${\ell}$ is
				<var>(bacon (and eggs))</var>. What is the first question?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The first question is
					<var>((null? ${\ell}$) #t)</var>.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The next question is
					<span class="monoText"
						>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
					>.
				</p>
			</details>

			<p>
				What is the meaning of
				<var>(lat? (cdr ${\ell}$))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<var>(lat? (cdr ${\ell}$))</var> asks if
						<var>(cdr ${\ell}$)</var> is composed of only atoms.
					</li>
					<li>
						Here, <var>(cdr ${\ell}$)</var> is <var>((and eggs))</var>.
					</li>
				</ul>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The next question is
					<span class="monoText"
						>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
					>.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>else.</var></p>
			</details>

			<p>
				Is
				<var>else</var> true?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes. The question <var>else</var> is always true!</p>
			</details>

			<p>
				Why is
				<var>else</var> the last question?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Because we do not need to ask any more questions.</p>
			</details>

			<p>
				What is the meaning of the line
				<var>(else #f)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>else</var> asks if <var>else</var> is true.
					<var>else</var> is always true, so the answer is
					<var>#false</var>.
				</p>
			</details>
		</div>

		<div>
			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(lat? ((Jack) ate no chicken fat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. The list contains a list, <var>(Jack)</var>.
				</p>
			</details>

			<p>
				True or false:
				<var>(lat? ())</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>. The list does not contain a list.</p>
				<p>
					<var>(lat? ${\ell}$)</var> is another way of asking, Does this
					list contain a list? If yes, <var>false</var>, if no,
					<var>true</var>.
				</p>
			</details>

			<p>
				Write the function
				<var>lat?</var> using some, but not all of the functions:
				<var>car</var>, <var>cdr</var>, <var>cons</var>, <var>null?</var>,
				<var>atom?</var>, and <var>eq?</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<pre class="language-scheme"><code>
					(define lat?
						(lambda (l)
							(cond
								((null? l) #t)
								((atom? (car l)) (lat? (cdr l)))
								(else #f))))
				</code></pre>
				<p>
					The function works as such: Pass into
					<var>lat</var> a list called <var>l</var>. Then, first check if
					<var>l</var> is <var>null</var>. If it is, return
					<var>true</var>. Next, check if the first element of
					<var>l</var> is an atom. If it is, return <var>true</var>,
					otherwise, return <var>(lat? (cdr l))</var>. If <var>l</var> is
					not <var>null</var>, an <var>atom</var>, or a <var>lat</var>,
					return <var>false</var>.
				</p>
				<p>
					So, for example,
					<var>(lat? (bacon eggs))</var>:
				</p>
				<figure class="math-display">
					<pre class="language-pseudo"><code>
						(lat? (bacon eggs))
						(null? (bacon eggs)) -> false
						(atom? (car (bacon eggs))) -> false
						(atom? bacon) -> true
						(lat? (cdr (bacon eggs)))
						(lat? (eggs))
						(null? (eggs)) -> false
						(atom? (car (eggs)))
						(atom? eggs) -> true
						(lat? (cdr (eggs)))
						(lat? ())
						(null? ()) -> true
						</code></pre>
				</figure>
			</details>

			<p>
				Assume ${\ell}$ is
				<var>(bacon eggs)</var>. What is meaning of the
				<var>cond</var> line <var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The <var>cond</var> line <var>((null? ${\ell}$) #t)</var> asks if
					the argument ${\ell}$ is the <var>null list</var>. If it is, the
					value of <var>(lat? ${\ell}$)</var> is <var>true</var>.
				</p>
				<p>If it is not, then we ask the next question.</p>
			</details>

			<p>
				What is the meaning of the
				<var>cond</var> line
				<span class="monoText"
					>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
				>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ol>
					<li>
						<var>(atom? (car ${\ell}$))</var> asks if the first
						S-expression of the list ${\ell}$ is an atom.
					</li>
					<li>
						If <var>(car ${\ell}$)</var> is an atom, then we ask if the
						rest of ${\ell}$ is also composed of only atoms.
					</li>
					<li>
						If <var>(car ${\ell}$)</var> is not an atom, we ask the next
						question.
					</li>
				</ol>
				<p>
					Here, <var>(car ${\ell}$)</var> is an atom, so the value of the
					function is <var>(lat? (cdr ${\ell}$))</var>.
				</p>
			</details>

			<p>
				What is the argument ${\ell}$ for
				<var>(lat? (cdr ${\ell}$))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Now the argument is <var>(and eggs)</var>.</p>
			</details>

			<p>
				Now that ${\ell}$ is
				<var>(and eggs)</var>, what is the meaning of the line
				<var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>((null? ${\ell}) #t)$</var> asks if the argument ${\ell}$ is
					the <var>null list</var>. If it is, the value of
					<var>(lat? (cdr ${\ell}$))</var> is <var>true</var>. If not, we
					ask the next question.
				</p>
				<p>
					Here, ${(cdr ${\ell}$)}$ is not the
					<var>null list</var>, so we ask the next question.
				</p>
			</details>

			<p>
				What is the meaning of the line
				<span class="monoText"
					>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
				>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ol>
					<li>
						<var>(atom (car ${\ell}$))</var> asks if
						<var>(car ${\ell}$)</var> is an atom. In this case, ${\ell}$ is
						<var>(and eggs)</var>, so <var>(car (and eggs))</var> is
						<var>and</var>.
					</li>
					<li>
						If <var>(car ${\ell}$)</var> is an atom, then the value of
						<var>(atom (car ${\ell}$))</var> is
						<var>(lat? (cdr ${\ell}$))</var>.
					</li>
					<li>If not, we ask the next question.</li>
				</ol>
				<p>
					Here, <var>(atom? and)</var> is <var>true</var>, so the value
					returned is <var>(lat? (cdr ${\ell}$))</var>.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The next question is
					<var>(null? ${\ell}$)</var>.
				</p>
			</details>

			<p>
				Now what is the argument for
				<var>(lat? (cdr ${\ell}$))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Now the argument is <var>()</var>, the <var>null list</var>.</p>
			</details>

			<p>What does the function <var>lat?</var> do?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>lat?</var> looks at each S-expression in a list, one by one,
					and asks if each S-expression is an atom. It continues to do so
					until it runs out of S-expressions to check. If it runs out
					without encountering a list, the value is <var>#t</var>. If it
					finds a list, the value is <var>#f</var>.
				</p>
			</details>

			<p>
				What is the meaning of the line
				<var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<var>((null? ${\ell}$) #t)</var> asks if ${\ell}$ is the
						<var>null list</var>.
					</li>
					<li>If it is, return <var>true</var>.</li>
					<li>If it is not, ask the next question.</li>
				</ul>
			</details>

			<p>
				What is the meaning of the line
				<span class="monoText"
					>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
				>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<span class="monoText"
							>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
						>
						asks if <var>(car ${\ell}$)</var> is an atom.
					</li>
					<li>
						If it is, then the value of the application is
						<var>(lat? (cdr ${\ell}$))</var>.
					</li>
					<li>If it is not, then we ask the next question.</li>
				</ul>
				<p>
					Here, <var>(car ${\ell}$)</var> is <var>bacon</var>, which is an
					atom. So, the value of returned is
					<var>(lat? (cdr ${\ell}$))</var>.
				</p>
			</details>

			<p>
				What is the meaning of the line
				<var>((null? ${\ell}$) #t)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<var>((null? ${\ell}$) #t)</var> asks if ${\ell}$ is the
						<var>null list</var>.
					</li>
					<li>
						If it is, the value of the application is
						<var>true</var>.
					</li>
					<li>If it is not, we ask the next question.</li>
				</ul>
			</details>

			<p>
				What is the meaning of the line
				<span class="monoText"
					>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
				>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<span class="monoText"
							>((atom? (car ${\ell}$)) (lat? (cdr ${\ell}$)))</span
						>
						asks whether <var>(car ${\ell}$)</var> is an atom.
					</li>
					<li>
						If it is, then the value of the application is
						<var>(lat? (cdr ${ell}$))</var>.
					</li>
					<li>If it is not, then we ask the next question.</li>
				</ul>
				<p>
					Here, the value of
					<var>(car ${\ell}$)</var> is <var>(and eggs)</var>. This is not
					an atom, it is a list, so we ask the next question.
				</p>
			</details>

			<p>
				What is the meaning of the question
				<var>else</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>else</var> asks if <var>else</var> is true.</p>
			</details>

			<p>else.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes.</p>
			</details>

			<p>Why do we need not need to ask anymore questions?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Because we have exhausted all of the possibilities: (1) A list
					can be empty, (2) A list can have an atom in the first positions,
					or (3) A list can have a list in the first position.
				</p>
			</details>

			<p>
				How did
				<var>lat?</var> determine the value <var>#f</var> for
				<var>(lat? (bacon (and eggs))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(lat? ${\ell}$)</var> looks at each item in its argument to
					see if it is an atom. If it runs out of items before it finds a
					list, the value of <var>(lat ${\ell}$)</var> is <var>#t</var>. If
					it finds a list, the value of <var>(lat? ${\ell}$)</var> is
					<var>#f</var>.
				</p>
			</details>
		</div>
	</div>

	<p>
		<span class="topic">The <var>lat?</var> Operator.</span>
		From the exercises above, we have the following rule: The
		<var>lat?</var> primitive takes a list as an argument, and determines
		if each item in the list is an atom. If each item is an atom,
		<var>(lat? ${\ell}$)</var> returns <var>true</var>. Otherwise,
		<var>false</var>.
	</p>

	<h4>Logical Connectives.</h4>

	<div class="compare">
		<div>
			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(or (null? ())
						(null?) (d e f g))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
				<ul>
					<li><var>(null? ())</var> returns <var>true</var>.</li>
					<li><var>(null? (d e f g))</var> returns <var>false</var>.</li>
					<li>
						But, only one S-expression must be
						<var>true</var> for the entire S-expression to be
						<var>true.</var>
					</li>
				</ul>
			</details>

			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(or (null? (a b c))
						(null?) (atom))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					False. Neither <var>(null? (a b c))</var> nor
					<var>(null? (atom))</var> evaluates to <var>true</var>.
				</p>
			</details>
		</div>

		<div>
			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(or (null? (a b c))
						(null?) ())
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>True. <var>(null? ())</var> returns <var>true</var>.</p>
			</details>
		</div>
	</div>

	<p>
		<span class="topic">The <var>or</var> Operator.</span>
		The primitive
		<var>(or (${Q_1}$) (${Q_2}$))</var> asks two questions, ${Q_1}$ and
		${Q_2}$, one at a time. If the first question, ${Q_1,}$ is
		<var>true</var>, it stops and the entire expression evaluates to
		<var>true</var>. Otherwise, it asks if ${Q_2}$ is true or false, and
		evaluates entire expression with whatever ${Q_2}$ answers.
	</p>

	<div class="compare">
		<div>
			<p>
				True or false: Given
				<var>lat</var> is <var>(coffee tea or milk)</var>,
				<var>tea</var> is a member of <var>lat</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>. One of the atoms of the <var>lat</var>,
					<var>(coffee tea or milk)</var> is the atom <var>tea</var>.
				</p>
			</details>
		</div>

		<div>
			<p>
				Given
				<var>lat</var> is <var>(fried eggs and scrambled eggs)</var>, what
				value: <var>(member? poached lat)</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>poached</var> is not one of the members of
					the <var>lat</var>.
				</p>
			</details>
		</div>
	</div>

	<p>
		This is an implementation of the function
		<var>member?</var>:
	</p>
	<pre class="language-scheme"><code>
		(define member?
			(lambda (a lat)
				(cond
					((null? lat) #f)
					(else (or (eq? (car lat) a)
								(member? a (cdr lat)))))))
	</code></pre>

	<div class="compare">
		<div>
			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(member? meat (mashed potatoes and meat gravy))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The value is <var>true</var>, since <var>meat</var> is a member
					of <var>(mashed potatoes and meat gravy)</var>.
				</p>
			</details>

			<p>
				What is the first question asked by
				<var>(member? a lat)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The first question is
					<var>((null? lat) #f)</var>. Notice that this is the first
					question asked by
					<var>lat?</var>
				</p>
			</details>
		</div>

		<div>
			<p>
				How do we determine the value
				<var>#t</var> for the above application?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						<var>member?</var> first asks if <var>lat</var> is the
						<var>null list</var>.
					</li>
					<li>
						If it is, then the application returns
						<var>false</var>.
					</li>
					<li>
						If it is not the <var>null list</var>, it moves to the next
						question, <var>else</var>.
					</li>
					<li>
						<var>else</var> is always <var>true</var>, so it evaluates:
						<span class="monoText"
							>(or (eq? (car lat a)) (member? a (cdr lat)))</span
						>.
					</li>
					<li>This asks two questions:</li>
					<ul>
						<li><var>(eq? (car lat) a)</var> and</li>
						<li><var>(member? a (cdr lat))</var>.</li>
					</ul>
					<li>
						<var>(eq? (car lat) a)</var> asks if the first S-expression of
						<var>lat</var> is the same atom as <var>a</var>. Here,
						<var>(car lat)</var> is <var>mashed</var> and <var>a</var> is
						<var>meat</var>. This evaluates to <var>false</var>.
					</li>
					<li>
						So, the next question is
						<var>(member? a (cdr lat))</var>.
					</li>
					<li>
						Now <var>lat</var> is <var>(potatoes and meat gravy)</var>.
					</li>
					<li>
						<var>member?</var> asks if <var>lat</var> is the
						<var>null list</var>.
					</li>
					<li>
						It is not, so it asks the next question:
						<span class="monoText"
							>(or (eq? (car lat a)) (member? a (cdr lat)))</span
						>.
					</li>
					<li>This asks two questions:</li>
					<ul>
						<li><var>(eq? (car lat) a)</var> and</li>
						<li><var>(member? a (cdr lat))</var>.</li>
					</ul>
					<li>
						<var>(eq? (car lat) a)</var> asks if the first S-expression of
						<var>lat</var> is the same atom is <var>a</var>. Here,
						<var>(car lat)</var> is <var>potatoes</var> and <var>a</var> is
						<var>meat</var>. This evaluates to <var>false</var>.
					</li>
					<li>
						So, the next question is
						<var>(member? a (cdr lat))</var>. <var>(cdr lat)</var> is
						<var>(and meat gravy)</var>.
					</li>
					<li>
						<var>member?</var> first asks if <var>lat</var> is the
						<var>null list</var>. It is not, so it asks the next question:
						<span class="monoText"
							>(or (eq? (car lat a)) (member? a (cdr lat)))</span
						>.
					</li>
					<li>Again, this question asks two questions:</li>
					<ul>
						<li><var>(eq? (car lat) a)</var> and</li>
						<li><var>(member? a (cdr lat))</var>.</li>
					</ul>
					<li>
						<var>(eq? (car lat) a)</var> asks if the first S-expression of
						<var>lat</var> is the same atom as <var>a</var>. Here,
						<var>(car lat)</var> is <var>and</var> and <var>a</var> is
						meat. Thus, this evaluates to <var>false</var>.
					</li>
					<li>
						So, we ask:
						<var>(member? a (cdr lat))</var>. Now <var>lat</var> is
						<var>(meat gravy)</var>.
					</li>
					<li>
						<var>member?</var> asks if <var>lat</var> is the
						<var>null list</var>. Here, it is not, so it asks the next
						question:
						<span class="monoText"
							>(or (eq? (car lat a)) (member? a (cdr lat)))</span
						>.
					</li>
					<li>This is a question with two questions:</li>
					<ul>
						<li><var>(eq? (car lat) a)</var> and</li>
						<li><var>(member? a (cdr lat))</var>.</li>
					</ul>
					<li>
						<var>(eq? (car lat) a)</var> asks if the first S-expression of
						<var>lat</var> is the same atom as <var>a</var>. Here,
						<var>(car lat)</var> is <var>meat</var> and <var>a</var> is
						meat. This evaluates to <var>true</var>.
					</li>
					<li>
						&#8756;
						<span class="monoText"
							>(member? meat (mashed potatoes and meat gravy))</span
						>
						evaluates to <var>true</var>.
					</li>
				</ul>
			</details>
		</div>
	</div>

	<p>
		From the preceding exercises, we have our first major rule for writing
		functions: Always ask <var>null?</var> as the first question in
		expressing any function.
	</p>

	<div class="compare">
		<div>
			<p>
				What is the meaning of the line
				<var>((null? lat) #f)</var> where <var>lat</var> is
				<var>(mashed potatoes and meat gravy)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>((null? lat) #f)</var> asks if <var>lat</var> is the
					<var>null list</var>. If it is, the expression returns
					<var>false</var>. Otherwise, it asks the next question.
				</p>
			</details>

			<p>
				Why is
				<var>else</var> the next question?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Because there are only two possibilities: (1)
					<var>lat</var> is an empty list, <var>null list</var>; or (2)
					<var>lat</var> is a non-empty list. We do not need to ask anymore
					questions.
				</p>
			</details>

			<p>What is the meaning of the line:</p>
			<pre class="language-pseudo"><code>
				(else (or (eq? (car lat) a)
									(member? a (cdr lat))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					This line asks if the first question,
					<var>(eq? (car lat) a)</var> is <var>true</var>. If it is, then
					the entire expression is <var>true</var>. If not, it asks if
					<var>(member? a (cdr lat))</var> is true or false. If it is true,
					then the entire expression is <var>true</var>. Otherwise, the
					entire expression is <var>false</var>.
				</p>
			</details>

			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(eq? (car lat) a)
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>(car lat)</var> is <var>mashed</var> and
					<var>a</var> is meat. These atoms are not the same.
				</p>
			</details>

			<p>
				Now what are the arguments of
				<var>member?</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The arguments are now
					<var>(potatoes and meat gravy)</var> and <var>meat</var>.
				</p>
			</details>

			<p>What do we do now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Ask the next question.</p>
			</details>

			<p>What is the meaning of:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car lat) a)
								(member? a (cdr lat)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					This asks if <var>(eq? (car lat) a)</var> or
					<var>(member? a (cdr lat))</var> are true or false. If
					<var>(eq (car lat) a)</var> is true, then the entire expression
					is true. Otherwise, we ask <var>(member? a (cdr lat))</var>.
				</p>
			</details>

			<p>What do we next?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Ask the next question.</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is <var>(null? lat)</var>.</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is <var>else</var>.</p>
			</details>

			<p>Why?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Because <var>(eq? (car lat) a)</var> is <var>false</var>.</p>
			</details>

			<p>What are the new arguments?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The new arguments are <var>a</var>, which is <var>meat</var>, and
					<var>(cdr lat)</var>, which is <var>(meat gravy)</var>.
				</p>
			</details>

			<p>What do we do now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Ask the next question, since
					<var>(null? lat)</var> is <var>false</var>.
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car lat) a)
								(member? a (cdr lat)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>. <var>(eq? (car lat) a)</var> evaluates to
					<var>true</var>, since <var>(car lat)</var> is
					<var>meat</var> and <var>a</var> is <var>meat</var>. These are
					the same atoms.
				</p>
			</details>

			<p>
				What is the value of
				<var>(member? a lat)</var> where <var>a</var> is
				<var>meat</var> and <var>lat</var> is <var>(and meat gravy)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>, since we have found the value of
					<var>(member? a lat)</var> where <var>a</var> is
					<var>meat</var> and <var>lat</var> is <var>(meat gravy)</var>,
					<var>true.</var>
				</p>
			</details>

			<p>
				What is the value of
				<var>(member? a lat)</var> where <var>a</var> is
				<var>meat</var> and <var>lat</var> is
				<var>(mashed potatoes and meat gravy)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>, since we have found the value of
					<var>(member? a lat)</var> where <var>a</var> is
					<var>meat</var> and <var>lat</var> is
					<var>(potatoes and meat gravy)</var>,
					<var>true.</var>
				</p>
			</details>

			<p>
				What is the first question
				<var>member?</var> asks?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? lat)</var></p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, but <var>(eq? (car lat) a)</var> is <var>false.</var> Recur
					with <var>a</var> and <var>(cdr lat)</var> where <var>a</var> is
					<var>liver</var> and <var>(cdr lat)</var> is
					<var>(and lox)</var>.
				</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, but <var>(eq? (car lat) a)</var> is <var>false</var>. Recur
					with <var>a</var> and <var>(cdr lat)</var> where <var>a</var> is
					<var>liver</var> and <var>(cdr lat)</var> is <var>(lox)</var>.
				</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, but <var>(eq (car lat) a)</var> is <var>false</var>. Recur
					with <var>a</var> and <var>(cdr lat)</var> where <var>a</var> is
					<var>liver</var> and <var>(cdr lat)</var> is <var>()</var>.
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(member? a ())
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>lat</var> is the <var>null list</var>,
					<var>()</var>.
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(member? liver (lox))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>.</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(member? liver (and lox))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>.</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(member? liver (bagels and lox))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>.</p>
			</details>
		</div>

		<div>
			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is <var>else</var>.</p>
			</details>

			<p>
				Is
				<var>else</var> really a question?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, <var>else</var> is really a question whose value is
					<span class="underlineText">always</span> <var>true</var>.
				</p>
			</details>

			<p>True or false:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car lat) a)
								(member? a (cdr lat)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>We find out by asking each question in turn.</p>
			</details>

			<p>
				What is the second question of the
				<var>(or ...)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The second question is
					<var>(member? a (cdr lat))</var>.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is <var>(null? lat)</var>.</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is:</p>
				<pre class="language-pseudo"><code>
					(else (or (eq? (car lat) a)
										(member? a (cdr lat))))
				</code></pre>
			</details>

			<p>Is <var>a</var> <var>eq?</var> to <var>(car lat)</var>?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No. <var>(car lat)</var> is <var>potatoes</var> and
					<var>a</var> is <var>meat</var>.
				</p>
			</details>

			<p>
				Now what are the arguments of
				<var>member?</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Now the arguments of <var>member?</var> are <var>a</var>, which
					is <var>meat</var>, and <var>(cdr lat)</var>, which is
					<var>(and meat gravy)</var>.
				</p>
			</details>

			<p>What now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Now we ask the next question, since
					<var>(null? lat)</var> is <var>false</var>.
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(else (or (eq? (car lat) a)
									(member? a (cdr lat))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value of <var>(member? a (cdr lat))</var>.</p>
			</details>

			<p>What do we do now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<b>Recur</b> &mdash; refer to the function with new arguments.
				</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The next question is <var>(null? lat)</var>.</p>
			</details>

			<p>What is the next question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>else</var>.</p>
			</details>

			<p>
				What is the value of the application
				<var>(member? a lat)</var> where <var>lat</var> is
				<var>(meat gravy)</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>, since we have found <var>meat</var> is a member
					of <var>(meat gravy)</var>.
				</p>
			</details>

			<p>
				What is the value of
				<var>(member? a lat)</var> where <var>a</var> is
				<var>meat</var> and <var>lat</var> is
				<var>(potatoes and meat gravy)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>, since we have found the value of
					<var>(member? a lat)</var> where <var>a</var> is
					<var>meat</var> and <var>lat</var> is
					<var>(and meat gravy)</var>,
					<var>true.</var>
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(member? liver (bagels and lox))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>.</p>
			</details>

			<p>
				What is the next question
				<var>member?</var> asks?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>else</var>.</p>
			</details>

			<p><var>(null? lat)</var>?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>.</p>
			</details>

			<p>
				<var>(null? lat)</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>. Next question.</p>
			</details>

			<p>
				<var>(null? lat)</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true.</var>
					<var>(cdr lat)</var> is the <var>null list</var>, <var>()</var>.
					Return <var>false</var>.
				</p>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car (lox)) liver)
						(member? liver (cdr (lox))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<ol>
					<li>
						<var>(eq? (car (lox)) liver)</var> is <var>false</var>.
						<var>(car (lox))</var> is <var>lox</var> which is not the same
						atom as <var>liver</var>.
					</li>
					<li>
						Next question:
						<var>(member? liver (cdr (lox)))</var>.
					</li>
					<li>
						<var>(cdr (lox))</var> is the empty list <var>()</var>, so
						<var>(member? liver (cdr (lox)))</var> is
						<var>false.</var>
					</li>
					<li>
						Because both
						<var>(eq? (car lat) a)</var> and
						<var>(member? liver (cdr (lox)))</var> are
						<var>false,</var>
					</li>
					<pre class="language-pseudo"><code>
						(or (eq? (car (lox)) liver)
								(member? liver (cdr (lox))))
					</code></pre>
					<li>is <var>false</var>.</li>
				</ol>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car (and lox)) liver)
						(member? liver (cdr (and lox))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						First question:
						<var>(eq? (car (and lox)) liver)</var>.
					</li>
					<li><var>(car (and lox))</var> ${\implies}$ <var>and</var>.</li>
					<li>
						<var>and</var> and <var>lox</var> are not the same atoms. Next
						question.
					</li>
					<li><var>(member? liver (cdr (and lox)))</var>.</li>
					<li><var>(cdr (and lox))</var> is <var>(lox)</var>.</li>
					<li>
						Question is now:
						<var>(member? liver (lox))</var>.
					</li>
					<li><var>false</var>.</li>
					<li>
						Because both
						<var>(eq? (car (and lox)) liver)</var> and
						<var>(member? liver (cdr (and lox)))</var>
						are
						<var>false,</var>
					</li>
					<pre class="language-pseudo"><code>
						(or (eq? (car (and lox)) liver)
								(member? liver (cdr (and lox))))
					</code></pre>
					<li>is <var>false</var>.</li>
				</ul>
			</details>

			<p>What is the value of:</p>
			<pre class="language-pseudo"><code>
				(or (eq? (car (bagels and lox)) liver)
						(member? liver (cdr (bagels and lox))))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<ul>
					<li>
						First question:
						<span class="monoText">(eq? (car (bagels and lox)) liver)</span
						>. <var>(car (bagels and lox))</var> is <var>bagels</var>. This
						is not the same atom as <var>liver</var>.
					</li>
					<li>
						Next question:
						<span class="monoText"
							>(member? liver (cdr (bagels and lox)))</span
						>.
					</li>
					<li>
						<var>(cdr (bagels and lox))</var> is <var>(and lox)</var>.
						<var>liver</var> is not a member of the list
						<var>(and lox)</var>.
					</li>
					<li>
						Because both
						<span class="monoText"
							>(eq? (car (bagels and lox)) liver)</span
						>
						and
						<span class="monoText"
							><span class="monoText"
								>(member? liver (cdr (bagels and lox)))</span
							></span
						>
						are <var>false</var>,
					</li>
					<pre class="language-pseudo"><code>
						(or (eq? (car (bagels and lox)) liver)
								(member? liver (cdr (bagels and lox))))
					</code></pre>
					<li>is <var>false</var>.</li>
				</ul>
			</details>
		</div>
	</div>
</section>

<section id="rember">
	<h4>rember</h4>

	<div class="compare">
		<div>
			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(rember mint (lamb chops and mint jelly))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(lamb chops and jelly)</var>. The
					<var>rember</var> primitive removes a member matching the first
					argument from the list.
				</p>
			</details>

			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(rember mint (lamb chops and mint flavored mint jelly))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<span class="monoText">(lamb chops and flavored mint jelly)</span
					>. The <var>rember</var> primitive only removes the first
					matching member.
				</p>
			</details>

			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(rember toast (bacon lettuce and tomato))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(bacon lettuce and tomato)</var>. There was no matching
					remember, so the list returns intact.
				</p>
			</details>

			<p>
				What does
				<var>(rember ${a}$ ${\ell}$)</var> do?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(rember ${a}$ ${\ell}$)</var> removes a member of the list
					${\ell}$ that matches the argument ${a.}$ More specifically,
					<var>rember</var> takes two arguments: an atom, and a
					<var>lat</var> (a list of only atoms). It returns a new
					<var>lat</var> with the first occurrence of the atom in the old
					<var>lat</var> removed.
				</p>
			</details>

			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(rember cup (coffee cup tea cup and hick cup))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(coffee tea cup and hick cup)</var>. Remove the first
					matching member.
				</p>
			</details>

			<p>
				If
				<var>(null? lat)</var> is <var>true</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					If <var>(null? lat)</var> is <var>true</var>, return
					<var>()</var>.
				</p>
			</details>

			<p>
				What is the first step to implementing
				<var>rember</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					The first step is to check if
					<var>lat</var> is <var>null</var>:
				</p>
				<pre class="language-scheme"><code>
					(null? lat)
				</code></pre>
			</details>

			<p>
				Is there any other question we should ask about the
				<var>lat</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No. Either a <var>lat</var> is empty or it contains one atom.
				</p>
			</details>

			<p>
				What do we know if
				<var>(null? lat)</var> is <var>false</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					If <var>(null? lat)</var> is <var>false</var>, then
					<var>lat</var> is a non-empty list &mdash; there must be at least
					one member in <var>lat</var>.
				</p>
			</details>

			<p>How do we ask such questions?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>We use <var>cond</var>:</p>
				<pre class="language-scheme"><code>
					(cond 
						((null? lat) ()
						(eq? (car lat) a)))
				</code></pre>
			</details>

			<p>
				What do we know if we know that the
				<var>lat</var> contains one atom?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					We know that <var>lat</var> contains at least one atom, so we
					ask:
					<var>(eq? (car lat) a)</var>
				</p>
			</details>

			<p>
				What do we do if
				<var>a</var> is not the same as <var>(car lat)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					We want to keep <var>(car lat)</var>, but we should check if
					<var>a</var> is somewhere in the rest of the <var>lat</var>.
				</p>
			</details>

			<p>
				What would be the value of
				<var>(rember a lat)</var> if <var>a</var> were the same as
				<var>(car lat)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(cdr lat)</var>.</p>
				<ul>
					<li>
						<var>(rember (car lat) lat)</var>
						${\implies}$
						<var>(cdr lat)</var>
					</li>
					<li>
						<var>rember</var> removes the head of the <var>lat</var>, which
						gives us <var>(cdr lat)</var>, the tail of the list
						<var>lat</var>.
					</li>
				</ul>
			</details>

			<p>Is there any other question we should ask?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>No.</p>
			</details>

			<p>
				How do we remove the first occurrence of
				<var>a</var> in the rest of <var>lat</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(rember a (cdr lat))</var>.</p>
			</details>

			<p>
				Define the function for
				<var>rember</var> with what we have come up with so far.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<pre class="language-scheme"><code>
					(define rember
						(lambda (a lat)
							(cond
								((null? lat) (quote()))
								(else (cond
										((eq? (car lat) a) (cdr lat))
										(else (rember a
															(cdr lat))))))))
				</code></pre>
			</details>

			<p>
				What does
				<var>rember</var> do according to our definiton?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					It looks at the head of <var>lat</var>, and if it matches the
					atom <var>a</var>, it returns the tail of the <var>lat</var>. If
					it does not match, then it moves to the head of the tail, and so
					on and so forth.
				</p>
			</details>

			<p>What value:</p>
			<pre class="language-pseudo"><code>
				(rember "bacon" '("bacon" "lettuce" "and" "tomato"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>'("lettuce" "and" "tomato")</var></p>
			</details>
		</div>

		<div>
			<p>What do we do now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(null? lat)</var> is <var>false</var>, since
					<var>'("bacon" "lettuce" "and" "tomato")</var>
					is a non-empty list. Ask the next question.
				</p>
			</details>

			<p><var>(eq? (car lat) a)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>, so return the tail of <var>lat</var>,
					<var>(cdr lat)</var> &mdash;
					<var>("lettuce" "and" "tomato")</var>.
				</p>
			</details>

			<p>What next?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Ask the next question,
					<var>(eq? (car lat) a)</var>.
				</p>
			</details>

			<p>What is the value we should get from:</p>
			<pre class="language-pseudo"><code>
				((rember "bacon" ("bacon" "lettuce" "and" "tomato")))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>("lettuce" "and" "tomato")</var></p>
			</details>

			<p>
				What is the first question asked by
				<var>rember</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? lat)</var>.</p>
			</details>

			<p>What do we do now?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? lat)</var> is false, so ask the next question.</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>, ask the next question.</p>
			</details>

			<p>
				What is the meaning of
				<var>(else (rember a (cdr lat)))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Call the function <var>rember</var> with the arguments
					<var>a</var> and <var>(cdr lat)</var>.
				</p>
			</details>

			<p>Is this the correct value?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes. It is the list
					<var>("bacon" "lettuce" "and" "tomato")</var>
					without the first atom in the list.
				</p>
			</details>

			<p>What is the expected value:</p>
			<pre class="language-pseudo"><code>
				(rember "and" ("bacon" "lettuce" "and" "tomato"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Expected value is
					<var>("bacon" "lettuce" "tomato")</var>
				</p>
			</details>

			<p>
				What is the first question asked by
				<var>rember</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? lat)</var>.</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes.</p>
			</details>

			<p>What is the meaning of:</p>
			<pre class="language-pseudo"><code>
				(else (rember a) (cdr lat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					We call the function <var>rember</var> with the arguments
					<var>a</var> and <var>(cdr lat)</var>. Here,
					<var>(cdr lat)</var> is <var>("lettuce" "and" "tomato")</var>.
					<var>a</var> remains as <var>"and"</var>.
				</p>
			</details>

			<p><var>(null? lat)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>false</var>. Ask the next question.</p>
			</details>

			<p>
				<var>else.</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
			</details>

			<p><var>(eq? (car lat) a)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>(car lat)</var> is <var>"lettuce"</var>.
					<var>a</var> is <var>"and"</var>. Ask the next question.
				</p>
			</details>

			<p>What is the meaning of:</p>
			<pre class="language-pseudo"><code>
				(rember a (cdr lat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Call the function <var>rember</var> with the arguments
					<var>a</var> and <var>(cdr lat)</var>. <var>a</var> remains the
					same, but <var>(cdr lat)</var> is now
					<var>("and" "tomato")</var>.
				</p>
			</details>

			<p>
				<var>(null? lat)</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>lat</var> is <var>("and" "tomato")</var>,
					a non-empty list.
				</p>
			</details>

			<p>
				<var>else.</var>
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
			</details>

			<p><var>(eq? (car lat) a)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>. The result is <var>("tomato")</var>.</p>
			</details>

			<p>Is the result correct?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					No. We want the entire list but without the matching element.
				</p>
			</details>

			<p>What went wrong?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					We did not keep the atoms that did not match. More specifically,
					we lost all the atoms preceding the match.
				</p>
			</details>

			<p>How do we keep from losing the preceding atoms?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Use <var>cons</var>.</p>
			</details>
		</div>
	</div>

	<p>
		The example above gives us the next rule: We use
		<var>cons</var> to build lists. Consider the following definition for
		<var>rember</var> that uses <var>cons</var>:
	</p>
	<pre class="language-scheme"><code>
		(define rember
		(lambda (a lat)
			(cond
				((null? lat) ('()))
				(else (cond
						((eq? (car lat) a) (cdr lat))
						(else (cons (car lat))
								(rember a (cdr lat))))))))
	</code></pre>

	<div class="compare">
		<div>
			<p>What is the expected value:</p>
			<pre class="language-pseudo"><code>
				(rember "and" ("bacon" "lettuce" "and" "tomato"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>("bacon" "lettuce" "tomato")</var></p>
			</details>

			<p>What is the first question?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(null? lat)</var></p>
			</details>

			<p>What next?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(null? lat)</var> is <var>false</var>, so ask the next
					question.
				</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
			</details>

			<p><var>(eq? (car lat) a)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>(car lat)</var> is <var>"bacon"</var> and
					<var>a</var> is <var>"lettuce"</var>. Ask the next question.
				</p>
			</details>

			<p>
				Where
				<var>a</var> is <var>"and"</var>, and <var>lat</var> is
				<var>("bacon" "lettuce" "and" "tomato")</var>, what is the meaning
				of:
			</p>
			<pre class="language-pseudo"><code>
				(cons (car lat)
					(rember a
						(cdr lat)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Insert the atom resulting from
					<var>(car lat)</var> to the list resulting from
					<var>(rember a (cdr lat))</var>. In this case,
					<var>(car lat)</var> is <var>"bacon"</var>, and
					<var>(cdr lat)</var> is <var>("lettuce" "and" "tomato")</var>.
					So, <var>"bacon"</var> will be added to the list resulting from
					<span class="monoText"
						>(rember "and" ("lettuce" "and" "tomato"))</span
					>.
				</p>
			</details>

			<p><var>(null? lat)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false.</var>
					<var>(cdr lat)</var> is <var>("lettuce" "and" "tomato")</var>, a
					non-empty list. Ask the next question.
				</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
			</details>

			<p><var>(eq? (car lat) a)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>(car lat)</var> is
					<var>"lettuce"</var> and <var>a</var> is <var>"and"</var>. Ask
					the next question.
				</p>
			</details>

			<p>What is the meaning of:</p>
			<pre class="language-pseudo"><code>
				(cons (car lat)
					(rember a
						(cdr lat)))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Insert the atom resulting from
					<var>(car lat)</var> to the list resulting from
					<var>(rember a (cdr lat))</var>. Here, <var>(car lat)</var> is
					<var>"lettuce"</var>, and <var>(cdr lat)</var> is
					<var>("and" "tomato")</var>. Thus, insert <var>"lettuce"</var> to
					the list resulting from <var>(rember a ("and" "tomato"))</var>.
				</p>
			</details>
		</div>

		<div>
			<p><var>(null? lat)</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>false</var>. <var>lat</var> is <var>("and" "tomato")</var>,
					a non-empty list. Ask the next question.
				</p>
			</details>

			<p><var>else</var>.</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>true</var>.</p>
			</details>

			<p>What value:</p>
			<pre class="language-pseudo"><code>
				((eq? (car lat) a) (cdr lat))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>true</var>. <var>(car lat)</var> is <var>"and"</var> and
					<var>a</var> is <var>"and"</var>. Thus, the value is
					<var>(cdr lat)</var>, which is <var>("tomato")</var>.
				</p>
			</details>

			<p>Finished?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>No.</p>
			</details>

			<p>What next?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Now insert <var>"lettuce"</var> to the list &mdash;
					<var>("lettuce" "tomato")</var>.
				</p>
			</details>

			<p>
				What does
				<var>("lettuce" "tomato")</var> represent?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>("lettuce" "tomato")</var> represents:</p>
				<pre class="language-pseudo"><code>
					(cons (car lat) (rember a (cdr lat)))
				</code></pre>
			</details>

			<p>Finished?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>No.</p>
			</details>

			<p>What next?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Now insert <var>"bacon"</var> to the list
					<var>("lettuce" "tomato")</var>.
				</p>
			</details>

			<p>
				What does
				<var>("bacon" "lettuce" "tomato")</var>
				represent?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>("bacon" "lettuce" "tomato")</var>
					represents:
				</p>
				<pre class="language-pseudo"><code>
					(cons (car lat) (rember a (cdr lat)))
				</code></pre>
			</details>

			<p>Are we finished?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes.</p>
			</details>
		</div>
	</div>

	<p>
		Suppose we wrote
		<var>(rember ${a}$ (${x}$ ${y}$ ${a}$ ${z}$))</var>. We can envision
		the evaluation as such:
	</p>
	<figure class="math-display">
		<ul class="syntax">
			<li>(rember ${a}$ (${x}$ ${y}$ ${a}$ ${z}$))</li>
			<li>
				(cons (car (${x}$ ${y}$ ${a}$ ${z}$)) (rember ${a}$ (cdr (${x}$
				${y}$ ${a}$ ${z}$))))
			</li>
			<li>(cons ${x}$ (rember ${a}$ (${y}$ ${a}$ ${z}$)))</li>
			<li>
				(cons ${x}$ (cons (car (${y}$ ${a}$ ${z}$)) (rember ${a}$ (cdr
				(${y}$ ${a}$ ${z}$))))))
			</li>
			<li>(cons ${x}$ (cons ${y}$ (rember ${a}$ (${a}$ ${z}$))))</li>
			<li>(cons ${x}$ (cons ${y}$ (${z}$) ))</li>
			<li>(cons ${x}$ (${y}$ ${z}$))</li>
			<li>(${x}$ ${z}$ ${z}$)</li>
		</ul>
	</figure>

	<p>
		We can further simplify our definition for
		<var>rember</var>:
	</p>
	<pre class="language-scheme"><code>
		(define rember
		(lambda (a lat)
			(cond
				((null? lat) ('()))
				((eq? (car lat) a) (cdr lat))
				(else (cons (car lat)
								(rember a (cdr lat)))))))
	</code></pre>
</section>

<section id="firsts">
	<h2>Firsts</h2>
	<p>
		Here we introduce a new function, <var>firsts</var>. Engage the
		exercises below to decipher its meaning.
	</p>
	<div class="compare">
		<div>
			<p>
				What is
				<var>(firsts ${\ell}$)</var> where ${\ell}$ is:
			</p>
			<pre class="language-pseudo"><code>
				(("apple" "peach" "pumpkin")
					("plum" "pear" "cherry")
					("grape" "raisin" "pea")
					("bean" "carrot" "eggplant"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>("apple" "plum" "grape" "bean")</var>.</p>
			</details>

			<p>
				What is
				<var>(firsts ${\ell}$)</var> where ${\ell}$ is:
			</p>
			<pre class="language-pseudo"><code>
				((a b) (c d) (e f))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>(a c e)</var></p>
			</details>

			<p>
				What is
				<var>(firsts ())</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>()</var>.</p>
			</details>

			<p>
				What is
				<var>(firsts ${\ell}$)</var> where ${\ell}$ is:
			</p>
			<pre class="language-pseudo"><code>
				(("five" "plums") 
				("four") 
				("eleven" "green" "oranges"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p><var>("five" "four" "eleven")</var></p>
			</details>
		</div>

		<div>
			<p>
				What is
				<var>(firsts ${\ell}$)</var> where ${\ell}$ is:
			</p>
			<pre class="language-pseudo"><code>
				((("five" "plums") "four")
				("eleven" "green" "oranges")
				(("no") "more"))
			</code></pre>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(("five" "plums") "eleven" ("no"))</var>
				</p>
			</details>

			<p>
				What does
				<var>(firsts ${\ell}$)</var> do?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					<var>(firsts ${\ell}$)</var> takes a list ${\ell,}$ as an
					argument,, which either contains an empty list(s) or non-empty
					lists. Then, it evaluates to a list containing the first
					S-expressions of each list contained in ${\ell.}$
				</p>
			</details>

			<p>
				Write a function defining
				<var>firsts</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<pre class="language-scheme"><code>
					(define firsts
					(lambda (l)
						(cond ((null? l) '())
								(else (cons (car (car l)) (firsts (cdr l)))))))
				</code></pre>
			</details>

			<p>
				Why use
				<var>(firsts (cdr l))</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Because we can only look at one S-expression at a time. To look
					at the rest, we must recur.
				</p>
			</details>
		</div>
	</div>
	<p>
		The above exercises yield another rule: When building a list, describe
		the first typical element, and then insert it onto the natural
		recursion. In the example above,
		<var>(car (car l))</var> is the typical element, and
		<var>(firsts (cdr l))</var> is the natural recursion. More practice:
	</p>
	<p>
		The function
		<var>insertR</var> outputs the following:
	</p>
	<figure class="math-display">
		<pre class="language-scheme"><code>
			(insertR "topping" "fudge" '("ice" "cream" "with" "topping" "for" "dessert"))

			;; Output:
			;; ("ice" "cream" "with" "fudge" "topping" "for" "dessert")

			(insertR "jalapeno" "and" '("tacos" "tamales" "and" "salsa"))
			;; Output:
			;; ("tacos" "tamales" "and" "jalapeno" "salsa")

			(insertR "e" "d" '("a" "b" "c" "d" "f" "g" "d" "h"))
			;; Output:
			;; ("a" "b" "c" "d" "e" "f" "g" "d" "h")
		</code></pre>
	</figure>
	<p>What does <var>insertR</var> do?</p>
	<details class="answer">
		<summary>Solution</summary>
		<p>
			It takes three arguments: (1) the first atom, (2) the second atom,
			and (3) a list of atoms. <var>insertR</var> then builds a list where
			the first atom is inserted to the right of the first occurrence of
			the second atom.
		</p>
	</details>
	<p>
		Write a definition for the function
		<var>insertR</var>.
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<pre class="language-scheme"><code>
			(define insertR
				(lambda (A B l)
					(cond
						((null? l) '())
						((eq? B (car l)) (cons B (cons A (cdr l))))
						(else (cons (car l) (insertR A B (cdr l)))))))
		</code></pre>
		<p>
			The function
			<var>subst</var> has the following behavior:
		</p>
		<pre class="language-scheme"><code>
			(subst2 "vanilla" "chocolate" "banana" ("banana" "ice" "cream" "with" "chocolate" "topping"))
			;; Output:
			;; ("vanilla" "ice" "cream" "with" "chocolate" "topping")
		</code></pre>
		<p>Write a function definition for <var>subst</var>.</p>
		<details class="answer">
			<summary>Solution</summary>
			<pre class="language-scheme"><code>
				(define subst
					(lambda (n first second l)
						(cond
							((null? l) '())
							((or (eq? first (car l)) (eq? second (car l))) (cons n (cdr l)))
							(else (cons (car l) (subst n first second (cdr l)))))))
			</code></pre>
			<p>
				Recall the function definition for
				<var>rember</var>. Write a function called
				<var>multirember</var> that gives as its final value a list with
				all occurrences of the argument <var>a</var> removed.
			</p>
			<p>
				We arrive at another rule for recursion: Always change
				<span class="underlineText">at least one</span> argument when
				recurring. It must be changed to be closer to termination. The
				changing argument must be tested in the termination condition. When
				using <var>cdr</var>, the termination is tested with
				<var>null?</var>.
			</p>
		</details>
	</details>
</section>

<section id="operations_on_lists">
	<h2>Operations on Lists</h2>
	<p>Consider the code below:</p>
	<pre class="language-scheme"><code>
		(cons "rice" empty)
	</code></pre>

	<p>
		The symbol <var>empty</var> represents an empty list. When we write
		<var>(cons "rice" empty)</var>, we tell Lisp to place the value
		<var>"rice"</var> in front of the <var>empty</var> list. This
		effectively creates a list of size one. To create a list of two
		elements:
	</p>

	<pre class="language-scheme"><code>
		(cons "corn" (cons "rice" empty))
	</code></pre>

	<p>
		The code above tells Lisp: Construct a list where
		<var>"corn"</var> is in front of <var>"rice"</var>, and
		<var>"rice"</var> is in front of the <var>empty</var> list. A key point
		to understand when constructing lists in Lisp is that the list can only
		contain values. If we place an expression inside a list, Lisp will
		evaluate that expression first before including it in the list:
	</p>

	<pre class="language-scheme"><code>
		(cons (+ 1 1) empty)
	</code></pre>

	<pre class="language-bash"><code>
		(cons 2 '())
	</code></pre>

	<p>What would happen if we decided not to include empty?</p>

	<pre class="language-scheme"><code>
		(cons 2 (cons 1))
	</code></pre>

	<pre class="language-bash"><code>
		cons: expects 2 arguments, but found only 1
	</code></pre>

	<p>
		The output tells us that <var>cons</var> is a <i>constructor</i> that
		takes two parameters &mdash; the value we want to include in the list,
		and the <var>empty</var> list.
	</p>

	<pre class="language-scheme"><code>
		(cons 2 (cons 1 empty))
	</code></pre>

	<pre class="language-bash"><code>
		(cons 2 (cons 1 '()))
	</code></pre>

	<p>As a matter of convention, lists in Lisp are often nested:</p>

	<pre class="language-scheme"><code>
		(cons 3 
			(cons 2 
				(cons 1 empty)))
	</code></pre>

	<pre class="language-bash"><code>
		(cons 3 (cons 2 (cons 1 '())))
	</code></pre>

	<p>
		<span class="topic">Naming Lists.</span> As usual, we can name lists
		with <var>define</var>:
	</p>

	<pre class="language-scheme"><code>
		(define NaturalNums 
			(cons 3 
				(cons 2 
					(cons 1 
						(cons 0 empty)))))
	</code></pre>

	<p>Then, we can see what is in the list:</p>

	<pre class="language-scheme"><code>
		(define NaturalNums 
			(cons 3 
				(cons 2 
					(cons 1 
						(cons 0 empty)))))
		(first NaturalNums)
	</code></pre>

	<pre class="language-bash"><code>
		0
	</code></pre>

	<p>
		Notice that the first element in the list is the last element we
		included in the list. To see all of the elements other than the first
		element, we use the symbol <var>rest</var>:
	</p>

	<pre class="language-scheme"><code>
		(define NaturalNums 
			(cons 3 
				(cons 2 
					(cons 1 
						(cons 0 empty)))))
		(rest NaturalNums)
	</code></pre>

	<pre class="language-bash"><code>
		(cons 2 (cons 1 (cons 0 '())))
	</code></pre>

	<p>
		Note that when <var>rest</var> is used on a list of size 1, we will get
		back the <var>empty</var> list, since the rest of the list other than
		the first element is the <var>empty</var> list. Question: How do we get
		the second element in the list with only <var>first</var> and
		<var>rest</var>? Well, we first get the <var>rest</var> of the list,
		then pass that as an argument to <var>first</var>:
	</p>

	<pre class="language-scheme"><code>
		(define NaturalNums 
			(cons 3 
				(cons 2 
					(cons 1 
						(cons 0 empty)))))
		(first (rest NaturalNums))
	</code></pre>

	<pre class="language-bash"><code>
		2
	</code></pre>

	<p>If we wanted the third element:</p>

	<pre class="language-scheme"><code>
		(define NaturalNums 
			(cons 3 
				(cons 2 
					(cons 1 
						(cons 0 empty)))))
		(first (rest (rest NaturalNums)))
	</code></pre>

	<pre class="language-bash"><code>
		1
	</code></pre>

	<p>
		These are great examples of passing a function into a function as an
		argument. We will use a more simple approach for targeting individual
		elements in later sections.
	</p>
</section>

<section id="recursion_with_numbers">
	<p>
		<span class="topic">Recursion with Numbers.</span> Answer the
		following.
	</p>
	<div class="compare">
		<div>
			<p>Is <var>7</var> an atom?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>Yes, <var>7</var> is an atom. All numbers are atoms.</p>
			</details>

			<p>
				What does this expression evaluate to:
				<var>(atom? 7)</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					It evaluates to <var>true</var>, since <var>7</var> is an atom.
				</p>
			</details>

			<p>Is <var>-1</var> a number?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, <var>-1</var> is a negative integer, but for now, we will
					only consider positive integers.
				</p>
			</details>

			<p>
				Is
				<var>2.178</var> a number?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>
					Yes, it is a rational number, but for now, we will only consider
					the nonnegative integers ${\{ 0, 1, 2, 3, 4, \ldots \}}$
				</p>
			</details>

			<p>Suppose the following function definition:</p>
			<pre class="language-pseudo"><code>
				(define add1
					(lambda (n)
						(+ n 1)))
			</code></pre>
			<p>What is the value of <var>(add 1 67)</var>?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value is <var>68</var>.</p>
			</details>
		</div>

		<div>
			<p>Suppose another function definition:</p>
			<pre class="language-pseudo"><code>
				(define sub1
					(lambda (n)
						(-n 1)))
			</code></pre>
			<p>What is the value of <var>(sub1 5)</var>?</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value is <var>4</var>.</p>
			</details>

			<p>
				What is the value of
				<var>(zero? 0)</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value is <var>true</var>.</p>
			</details>

			<p>
				What is the value of
				<var>(zero? 1)</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value is <var>false</var>.</p>
			</details>

			<p>
				What is the value of
				<var>(+ 10 20)</var>?
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<p>The value is <var>30</var>.</p>
			</details>

			<p>
				Write the function
				<var>+</var>, but call it <var>sum</var>.
			</p>
			<details class="answer">
				<summary>Solution</summary>
				<pre class="language-scheme"><code>
					(define add1
					(lambda (n)
						(+ n 1)))

				(define sub1
					(lambda (n)
						(- n 1)))

				(define sum
					(lambda (a b)
						(cond
							((zero? b) a)
							(else
								(add1 (sum a (sub1 b)))))))
				</code></pre>
			</details>
		</div>
	</div>
	<p>
		Notice that <var>zero?</var> acts just like <var>null?</var> for lists.
	</p>
	<p>
		We can also think of <var>add1</var> as acting like <var>cons</var>.
		The operator <var>cons</var> builds a list, and the operator
		<var>add1</var> builds numbers. From the definition in the last
		exercise, we can think of the evaluation as such:
	</p>
	<figure class="math-display">
		<pre class="language-pseudo"><code>
			(sum 3 5)
			(add1 (sum 3 (sub1 5)))
			(add1 (sum 3 4))
			(add1 (add1 (sum 3 (sub1 4))))
			(add1 (add1 (sum 3 3)))
			(add1 (add1 (add1 (sum 3 (sub1 3)))))
			(add1 (add1 (add1 (sum 3 2))))
			(add1 (add1 (add1 (add1 (sum 3 (sub1 2))))))
			(add1 (add1 (add1 (add1 (sum 3 1)))))
			(add1 (add1 (add1 (add1 (add1 (sum 3 (sub1 1)))))))
			(add1 (add1 (add1 (add1 (add1 (sum 3 0))))))
			(add1 (add1 (add1 (add1 (add1 3)))))
			(add1 (add1 (add1 (add1 4))))
			(add1 (add1 (add1 5)))
			(add1 (add1 6))
			(add1 7)
			8
		</code></pre>
	</figure>
	<p>Next consider these questions:</p>

	<p>
		Evaluate:
		<var>(- 10 3)</var>
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<p>
			<var>(-10 3)</var> ${\implies}$
			<var>7</var>
		</p>
	</details>

	<p>
		Evaluate:
		<var>(- 17 9)</var>.
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<p>
			<var>(-17 9)</var> ${\implies}$
			<var>8</var>
		</p>
	</details>

	<p>
		Evaluate:
		<var>(- 18 25)</var>.
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<p>
			<var>(- 18 25)</var> ${\implies}$ <var>-7</var>. For now, our
			upcoming function definitions will not have an answer to this.
		</p>
	</details>

	<p>
		Write a function called
		<var>diff</var> that behaves like <var>-</var>.
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<p>
			To write this function, we first consider the base case. Here, we
			have a base case for when <var>b</var> equals <var>0</var>. In that
			case, we should return <var>a</var>, since <var>a</var> minus
			<var>0</var> is <var>a</var>.
		</p>
		<pre class="language-scheme"><code>
				(define diff
					(lambda (a b)
						(cond
							((zero? b) a)
							(else
								(sub1 (diff a (sub1 b)))))))
			</code></pre>
	</details>

	<p>Expanding the evaluation above:</p>
	<figure class="math-display">
		<pre class="language-pseudo"><code>
				(difference 5 4)
				(sub1 (diff 5 (sub1 4)))
				(sub1 (diff 5 3))
				(sub1 (sub1 (diff 5 (sub1 3))))
				(sub1 (sub1 (diff 5 2)))
				(sub1 (sub1 (sub1 (diff 5 (sub1 2)))))
				(sub1 (sub1 (sub1 (diff 5 1))))
				(sub1 (sub1 (sub1 (sub1 (diff 5 (sub1 1))))))
				(sub1 (sub1 (sub1 (sub1 (diff 5 0)))))
				(sub1 (sub1 (sub1 (sub1 5))))
				(sub1 (sub1 (sub1 4)))
				(sub1 (sub1 3))
				(sub1 2)
				1
			</code></pre>
	</figure>
</section>

<section id="list_data_definitions">
	<p>
		<span class="topic">List Data Definition.</span> As with all data
		structures, we want to have a data definition for the lists we create.
		Suppose the following problem:
	</p>
	<figure class="math-display">
		<div class="rule">
			<p>
				We are designing a program that keeps track of different invasive
				plant species in the Republic of Palau: kasoring, nila grass,
				tearthumb. Design a data definition to represent a list of these
				pests.
			</p>
		</div>
	</figure>
	<p>
		Because we are dealing with a more complex data structure, we want to
		layout the information we seek to represent:
	</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb
	</code></pre>
	<p>
		Now we want to write out the data we might use to represent that
		information.
	</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb

		;; Data
		;;  "kasoring"
		;;  "nila grass"
		;;  "tearthumb"
	</code></pre>
	<p>
		We're going to represent the data as a string, so we will want to write
		the type comment as <var>ListOfString</var>.
	</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb

		;; Data
		;;  "kasoring"
		;;  "nila grass"
		;;  "tearthumb"

		;; ListOfString is one of:
		;;  empty
		;;  (cons String ListOfString)
	</code></pre>
	<p>
		Notice that in our type comment, we used
		<var>ListOfString</var> in defining <var>ListOfString</var>. This is a
		self-reference. Next, we write an interpretation:
	</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb

		;; Data
		;;  "kasoring"
		;;  "nila grass"
		;;  "tearthumb"

		;; ListOfString is one of:
		;;  empty
		;;  (cons String ListOfString)

		;; interp. a list of strings
	</code></pre>
	<p>Next, the examples:</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb

		;; Data
		;;  "kasoring"
		;;  "nila grass"
		;;  "tearthumb"

		;; ListOfString is one of:
		;;  empty
		;;  (cons String ListOfString)

		;; interp. a list of strings
		
		(define ListOfString1 empty)
		(define ListOfString2 (cons "kasoring" empty))
		(define ListOfString2 (cons "tearthumb" ("kasoring" empty)))
		(define ListOfString2 (cons "nila grass" ("tearthumb" ("kasoring" empty))))
	</code></pre>
	<p>Now we write a template for a function that might use the data:</p>
	<pre class="language-scheme"><code>
		;; Information
		;;  kasoring
		;;  nila grass
		;;  tearthumb

		;; Data
		;;  "kasoring"
		;;  "nila grass"
		;;  "tearthumb"

		;; ListOfString is one of:
		;;  empty
		;;  (cons String ListOfString)

		;; interp. a list of strings
		
		(define ListOfString1 empty)
		(define ListOfString2 (cons "kasoring" empty))
		(define ListOfString2 (cons "tearthumb" 
										(cons "kasoring" empty)))
		(define ListOfString2 (cons "nila grass" 
										(cons "tearthumb" 
											(cons "kasoring" empty))))

		;; function template
		(define (func-for-ListOfString ListOfString)
			(cond [(empty? ListOfString) (...)]
					[else
						(... (first ListOfString)) ; String
						(func-for-ListOfString (rest ListOfString))])) ;ListOfString
	</code></pre>
	<p>
		Notice that we commented two self-references in the code above. Before
		we explain why those self-references are there, let's first look at a
		problem requiring a function:
	</p>
	<figure class="math-display">
		<div class="rule">
			<p>
				We want to know whether the list of invasive plants includes
				&#8220;tearthumb,&#8221; a highly invasive plant taking over the
				Pacific.
			</p>
		</div>
	</figure>
	<p>First, the signature, purpose, and stub:</p>
	<pre class="language-scheme"><code>
		;; ListOfString --> Boolean
		;; produce True if ListOfString includes "tearthumb"
		;; (define (contains-tearthumb? ListOfString) false)
	</code></pre>
	<p>Next, the tests:</p>
	<pre class="language-scheme"><code>
		;; ListOfString --> Boolean
		;;   produce True if ListOfString includes "tearthumb"
		;; (define (contains-tearthumb? ListOfString) false)
		;; examples
		(check-expect (contains-tearthumb? empty) false)
		(check-expect (contains-tearthumb? 
								(cons "kasoring" empty)) false)
		(check-expect (contains-tearthumb? 
								(cons "tearthumb" 
									(cons "kasoring" empty))) true)
		(check-expect (contains-tearthumb? 
								(cons "nila grass" 
									(cons "tearthumb" 
										(cons "kasoring" empty)))) true)
	</code></pre>
	<p>The tests all run fine. Now we code the body:</p>
	<pre class="language-scheme"><code>
		;; ListOfString --> Boolean
		;;   produce True if ListOfString includes "tearthumb"
		;; (define (contains-tearthumb? ListOfString) false)
		;; examples
		(check-expect (contains-tearthumb? empty) false)
		(check-expect (contains-tearthumb? 
								(cons "kasoring" empty)) false)
		(check-expect (contains-tearthumb? 
								(cons "tearthumb" 
									(cons "kasoring" empty))) true)
		(check-expect (contains-tearthumb? 
								(cons "nila grass" 
									(cons "tearthumb" 
										(cons "kasoring" empty)))) true)
		
		(define (contains-tearthumb? ListOfString)
			(cond [(empty? ListOfString) false]
					[else
					(if (string=? (first ListOfString) "tearthumb")
						true
						(contains-tearthumb? (rest ListOfString)))]))
	</code></pre>
	<p>
		The above is an example of <b>recursion</b>, and it is closely tied to
		the idea of self-reference.
	</p>
	<p>
		Whenever we are handling data of arbitrary size, we want to see
		self-referencing in our type comments. Additionally, data definitions
		incorporating self-reference should be
		<i>well-formed data definitions</i>. Recall the data definition:
	</p>
	<pre class="language-scheme"><code>
		;; ListOfString is one of:
		;;   - empty
		;;   - (cons String ListOfString)
	</code></pre>
	<p>
		There are two components to a well-formed data definition incorporating
		self-reference: (1) at least one self-reference, and (2) at least one
		<b>base case</b>. The base case in the data definition above is
		<var>empty</var>. We say &#8220;at least one&#8221; because a
		self-referencing data definition can incorporate more than one base
		case or more than one self-reference. Because of these two
		requirements, examples and tests
		<span class="underlineText">must</span> include use of the base case,
		and use of the self-referential cases.
	</p>
	<p>
		We call the type of recursion incorporated above
		<b>natural recursion</b> &mdash; the recursion occurs precisely where
		in the type comment we have a self-reference. When we test or debug the
		cases, we should always target the base case first. This is because all
		of the other cases depend on the base case.
	</p>
	<p>
		<span class="exh">Exercise.</span> Several donors have donated money
		for a large charity project. We want to know how many donors there are,
		and the total amount of money donated.
	</p>
	<details class="answer">
		<summary>Solution</summary>
		<pre class="language-scheme"><code>
			;; Information
			;; $400
			;; $500
			;; $600

			;; Data
			;; 400
			;; 500
			;; 600

			;; ListOfNumber is one of:
			;;  empty
			;;  (cons Number ListOfNumber)

			;; Interp. a list of numbers

			; (define ListOfNumber empty)
			; (define ListOfNumber (cons 400 empty))
			; (define ListOfNumber (cons 500 (cons 400 empty)))
			; (define ListOfNumber (cons 600 (cons 500 (cons 400 empty))))

			;(define (func-for-ListOfNumber ListOfNumber)
			;  (cond [(empty? ListOfNumber) (...)]
			;        [else
			;         (... (first ListOfNumber) ...)
			;         (func-for-ListofNumber ListOfNumber)]))

			;; Functions

			;; ListOfNumber --> Number
			;; Consumes ListOfNumber, returns amount donated
			(check-expect (amountDonated? empty) 0)
			(check-expect (amountDonated? (cons 400 empty)) 400)
			(check-expect (amountDonated? (cons 500 (cons 400 empty))) 900)
			(check-expect (amountDonated? (cons 600 (cons 500 (cons 400 empty)))) 1500)

			;(define (amountDonated? ListOfNumber) 0)

			(define (amountDonated? ListOfNumber)
			(cond [(empty? ListOfNumber) 0]
					[else
						(+ (first ListOfNumber)
							(amountDonated? (rest ListOfNumber)))]))


			;; ListOfNumber --> Number
			;; Consumes ListOfNumber, number of donors
			(check-expect (donorCount? empty) 0)
			(check-expect (donorCount? (cons 400 empty)) 1)
			(check-expect (donorCount? (cons 500 (cons 400 empty))) 2)
			(check-expect (donorCount? (cons 600 (cons 500 (cons 400 empty)))) 3)

			; (define (donorCount? ListOfNumber) 0)

			(define (donorCount? ListOfNumber)
			(cond [(empty? ListOfNumber) 0]
					[else
						(+ 1 (donorCount? (rest ListOfNumber)))]))
		</code></pre>
	</details>
	<p>
		When writing functions employing natural recursion, there are two
		questions we should ask:
	</p>
	<ol>
		<li>
			How do we break down the computation so that each caller hires
			another caller who hires another caller ... all the way down to the
			base case?
		</li>
		<li>
			When we reach the base case, what should the previous caller do with
			the results from the base case?
		</li>
	</ol>
	<p>
		We ask these questions to ensure we have a
		<i>combination</i> &mdash; how the contribution of the first caller
		combines with the result of the natural recursion. In other words: Luke
		(the first caller) hires John who hires Mary who hires Yuri (the last
		call; the base case). How does Mary combine the results from Yuri? How
		does John combine the results from Mary? How does Luke combine the
		results from John?
	</p>
</section>
{% endblock %}
